<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="description" content="Rich text is an incredibly powerful editing tool and an important part of the XP experience. Learn how to configure it here.">
<title>Rich text</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>Rich text</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#htmlarea_include_and_exclude">HtmlArea include and exclude</a>
<ul class="sectlevel2">
<li><a href="#task_animal_description">Task: Animal description</a></li>
</ul>
</li>
<li><a href="#links">Links</a>
<ul class="sectlevel2">
<li><a href="#task_internal_link">Task: Internal link</a></li>
</ul>
</li>
<li><a href="#images">Images</a>
<ul class="sectlevel2">
<li><a href="#task_animal_pictures">Task: Animal pictures</a></li>
</ul>
</li>
<li><a href="#macros">Macros</a>
<ul class="sectlevel2">
<li><a href="#task_embed_iframe_macro">Task: Embed iframe macro</a></li>
</ul>
</li>
<li><a href="#graphql_api">GraphQL API</a>
<ul class="sectlevel2">
<li><a href="#links_2">Links</a></li>
<li><a href="#image_srcset">Image srcset</a></li>
<li><a href="#image_details">Image details</a></li>
<li><a href="#macros_2">Macros</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>If you want to work with rich text, HtmlArea is the input type to go.</p>
</div>
<div class="paragraph">
<p>This input type offers some very powerful editing capabilities and a lot of configuration options.</p>
</div>
<div class="paragraph">
<p>This whole chapter is dedicated to the <a href="https://developer.enonic.com/docs/xp/stable/cms/schemas/input-types/htmlarea" target="_blank" rel="noopener">HtmlArea input type</a> and the editor used to define its data.</p>
</div>
<div class="paragraph">
<p>The user-oriented documentation of the Rich text editor can be found in the <a href="https://developer.enonic.com/docs/content-studio/stable/editor/rich-text-editor" target="_blank" rel="noopener">Content Studio docs</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The tasks and examples in this chapter are based on work done in previous chapters (starting with <a href="sandbox.ahtml">the sandboxes chapter</a>). If you want to follow along with the examples, make sure you&#8217;re all caught up.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="media/input-type-html-area.png" alt="A text input field with a tools ribbon just above." width="750">
</div>
<div class="title">Figure 1. The HtmlArea input type with the default tools selection</div>
</div>
<div class="paragraph">
<p>The HtmlArea input type gives you a multi-line input field with rich formatting options, much like what you&#8217;re used to from your favorite word processor. It supports text formatting and justification, lists, links, and even lets you insert images.</p>
</div>
<div class="paragraph">
<p>You can configure the HtmlArea to be exactly what you want by dictating what formatting tools to include or exclude (the <code>include</code> and <code>exclude</code> attributes, respectively), by what heading levels are allowed (<code>allowedHeadings</code>), and by giving it a default value (<code>default</code>).</p>
</div>
<div class="paragraph">
<p>Additionally, the HtmlArea supports the use of <em>macros</em>, giving you the ability to insert prefabricated rich components into your markup.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="htmlarea_include_and_exclude"><a class="link" href="#htmlarea_include_and_exclude">HtmlArea include and exclude</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>We can use the HtmlArea&#8217;s <code>config</code> section to specify which rich text controls should be available when editing. Using a combination of the <code>include</code> and <code>exclude</code> tags, we can customize the input&#8217;s appearance.</p>
</div>
<div class="paragraph">
<p>By default, it includes a limited, but useful selection of tools at your disposal. Using <code>&lt;include&gt;*&lt;/include&gt;</code> as an option is the same as including the default tools.</p>
</div>
<div class="listingblock">
<div class="title">The HtmlArea with default configuration</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;input type="HtmlArea" name="everything"&gt;
  &lt;label&gt;HtmlArea&lt;/label&gt;
&lt;/input&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to exclude all controls, use <code>&lt;exclude&gt;*&lt;/exclude&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="title">The HtmlArea configured to include nothing</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;input type="HtmlArea" name="nothing"&gt;
  &lt;label&gt;HtmlArea with exclude: *&lt;/label&gt;
  &lt;config&gt;
    &lt;exclude&gt;*&lt;/exclude&gt;
  &lt;/config&gt;
&lt;/input&gt;</code></pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="media/input-type-html-area-no-controls.png" alt="An HtmlArea configured to exclude all editing tools" width="750">
</div>
<div class="title">Figure 2. An HtmlArea exput with <code>&lt;exclude&gt;*&lt;/exclude&gt;</code> and a selection of tools.</div>
</div>
<div class="paragraph">
<p>Finally, if you want to exclude most tools, but not all, you can exclude all and then add back in the ones you want:</p>
</div>
<div class="listingblock">
<div class="title">The HtmlArea configured to include a selection of controls</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;input type="HtmlArea" name="something"&gt;
  &lt;label&gt;HtmlArea with some controls&lt;/label&gt;
  &lt;config&gt;
    &lt;exclude&gt;*&lt;/exclude&gt;
    &lt;include&gt;Format | Bold Italic Underline | JustifyBlock
    JustifyLeft JustifyCenter JustifyRight | HorizontalRule Blockquote&lt;/include&gt;
  &lt;/config&gt;
&lt;/input&gt;</code></pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="media/input-type-html-area-some-controls.png" alt="An HtmlArea configured to include a selection of editing tools" width="750">
</div>
<div class="title">Figure 3. An HtmlArea with a selection of tools and <code>&lt;exclude&gt;*&lt;/exclude&gt;</code></div>
</div>
<div class="paragraph">
<p>As introduced in the beginning, for a full overview of the available text tools and HtmlArea configuration options, visit the <a href="https://developer.enonic.com/docs/xp/stable/cms/schemas/input-types/htmlarea" target="_blank" rel="noopener">HtmlArea input type reference docs</a>.</p>
</div>
<div class="sect2">
<h3 id="task_animal_description"><a class="link" href="#task_animal_description">Task: Animal description</a></h3>
<div class="paragraph">
<p>Let&#8217;s add a rich-text description field to the animal content type. The input should be optional and have at most a single occurrence. You can include any editor tools you want, but it must at least have the <code>Link</code> ,<code>Image</code> and <code>Macro</code> tools, as we&#8217;ll be using these later. Otherwise, configure it as you want.</p>
</div>
<div class="paragraph">
<p>Your content type should now look something like this:</p>
</div>
<div class="listingblock">
<div class="title">Animal with an HtmlArea input type</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;content-type&gt;
  &lt;display-name&gt;Animal&lt;/display-name&gt;
  &lt;description&gt;An animal that lives on planet Earth&lt;/description&gt;
  &lt;super-type&gt;base:structured&lt;/super-type&gt;
  &lt;form&gt;

    &lt;!-- other fields elided for brevity --&gt;

    &lt;input name="description" type="HtmlArea"&gt;
      &lt;label&gt;Description&lt;/label&gt;
      &lt;help-text&gt;
        Describe the animal. Where its habitats are, what it eats, etc.
      &lt;/help-text&gt;
      &lt;config&gt;
        &lt;exclude&gt;*&lt;/exclude&gt;
        &lt;include&gt;Format Link Macro Image&lt;/include&gt;
      &lt;/config&gt;
    &lt;/input&gt;

  &lt;/form&gt;
&lt;/content-type&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the new content type deployed, you are ready to continue with further tasks we&#8217;ll introduce in next sections.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="links"><a class="link" href="#links">Links</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to good old URLs, the Rich text editor provides a more powerful way of creating links, in which you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reference other content items (possbily passing query parameters);</p>
</li>
<li>
<p>If the referenced content is of type media, you can set a specific link to: open the file, directly download the file, or treat it as a regular content;</p>
</li>
<li>
<p>Insert url links of type: https, http, ftp, cel or relative;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An important feature, is that when creating internal links (content or media links), XP will save references to the target items, similar to how the ContentSelector works. This is useful when looking for usage and dependencies between content items later.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Because links are created using the item&#8217;s unique id. It is perfectly safe to move items around in the tree structure, or change it&#8217;s path name. The links will not break.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="task_internal_link"><a class="link" href="#task_internal_link">Task: Internal link</a></h3>
<div class="paragraph">
<p>In this task, you&#8217;ll create an internal link to another animal.</p>
</div>
<div class="paragraph">
<p>Create a new animal, "Lynx".</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <code>Description</code> field, type some text, i.e. "Lynx are cats, just like lions". Select the "lions" text and click "insert link" in the toolbar.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can also use <span class="keyseq"><kbd>ctrl</kbd>+<kbd>K</kbd></span> to insert the link.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>You&#8217;ll be greeted by the "Insert link" dialog:
.Choose the content tab, and select the previously created "Lion" as the target item</p>
<div class="imageblock">
<div class="content">
<img src="media/rich-text-insert-content-link.png" alt="Screenshot of the insert link dialog" width="1050">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>When done, save the item - but keep the tab open to complete the upcoming tasks.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="images"><a class="link" href="#images">Images</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>With the image tool enabled, you insert an image anywhere within your document. During the insert process, you may customize the image further.</p>
</div>
<div class="paragraph">
<p>The following options are available: Caption, alt text, change the image&#8217;s justification, and apply a predefined image styles.</p>
</div>
<div class="sect2">
<h3 id="task_animal_pictures"><a class="link" href="#task_animal_pictures">Task: Animal pictures</a></h3>
<div class="paragraph">
<p>Try out the image controls that Content Studio give you by uploading a picture and seeing what you can do with it.</p>
</div>
<div class="paragraph">
<p>We looked at <a href="input-types.ahtml#_working_with_images">editing images in the input types chapter</a>, but when inserting images in the HtmlArea, you also have something called "image styles", which we&#8217;ll have a look at now.</p>
</div>
<div class="paragraph">
<p>Continue editing the "Lynx" content created in the previous task.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Insert an image below the existing text. Use the "insert image" button in the toolbar.</p>
<div class="imageblock">
<div class="content">
<img src="media/rich-text-toolbar-image-highlight.png" alt="The rich text toolbar with the image tool circled by a blue circle" width="1050">
</div>
<div class="title">Figure 4. The toolbar with the image tool highlighted</div>
</div>
</li>
<li>
<p>You&#8217;ll be greeted by the "insert image" dialog:</p>
<div class="imageblock">
<div class="content">
<img src="media/rich-text-insert-image.png" alt="The insert image dialog, showing the image, an image styles dropdown, caption, and alt text fields" width="1050">
</div>
<div class="title">Figure 5. The HtmlArea insert image dialog. Photo by <a href="https://unsplash.com/@zmachacek" target="_blank" rel="noopener">Zdeněk Macháček</a></div>
</div>
</li>
<li>
<p>When accessing the "image styles" dropdown, you&#8217;ll find that it&#8217;s only got two options and neither of them seem to do much. To make this more exciting, let&#8217;s also create a custom image style.</p>
<div class="paragraph">
<p>In your app, add a new file:</p>
</div>
<div class="listingblock">
<div class="title">src/main/resources/site/styles.xml</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;styles&gt;
  &lt;image name="square-grayscale"&gt;
    &lt;display-name&gt;Grayscale&lt;/display-name&gt;
    &lt;aspect-ratio&gt;1:1&lt;/aspect-ratio&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;filter&gt;hsbcolorize(0x000000); grayscale(); border(6, 0x000000)&lt;/filter&gt; <i class="conum" data-value="2"></i><b>(2)</b>
  &lt;/image&gt;
&lt;/styles&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The aspect ratio controls how the image is displayed. 1:1 makes the image square.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The filters add a grayscale effect and then a border
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="https://developer.enonic.com/docs/xp/stable/cms/styles" target="_blank" rel="noopener">The styles reference doc</a> has more information on how you can style your images, so go check it out for a deeper dive.
</td>
</tr>
</table>
</div></td>
</tr>
</table>
</div>
</li>
<li>
<p>With this style picked up by XP, you&#8217;ll have the "Grayscale" option available in the image styles dropdown. Select it to apply it to the image and update your image.</p>
<div class="imageblock">
<div class="content">
<img src="media/rich-text-insert-image-styled.png" alt="The description rich text showing the results of applying the image styles to the image" width="1050">
</div>
<div class="title">Figure 6. Example of description with inserted image styled</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="macros"><a class="link" href="#macros">Macros</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Macros enable you to insert custom components within your rich text field</p>
</div>
<div class="paragraph">
<p>When the content is rendered, the macro is replaced with the actual component implementation.</p>
</div>
<div class="paragraph">
<p>Similar to content types, macros can define forms that help editors configure them.</p>
</div>
<div class="sect2">
<h3 id="task_embed_iframe_macro"><a class="link" href="#task_embed_iframe_macro">Task: Embed iframe macro</a></h3>
<div class="paragraph">
<p>The embed macro enable you to insert iframes. In this context, we&#8217;ll embed this <a href="https://www.youtube.com/watch?v=gr5EwZo_CHQ" target="_blank" rel="noopener">Lynx youtube video</a>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s add the macro to the "Lynx" content item.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/rich-text-toolbar-macro-highlight.png" alt="The rich text toolbar with the macro button circled by a blue circle" width="1050">
</div>
<div class="title">Figure 7. The toolbar with the macro button highlighted</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click "insert macro".</p>
</li>
<li>
<p>Select the "Embed iframe" macro</p>
</li>
<li>
<p>Add the following iframe to it: <code>&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/gr5EwZo_CHQ?si=IlkTGRuGVV7BxEOs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen&gt;&lt;/iframe&gt;</code></p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This macro can&#8217;t be previewed because the Embed iframe macro does not includes a standard preview.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As you&#8217;ll see in next section, when querying the description of an Animal content, you&#8217;ll be able to properly get the iframe we passed to "Embed iframe" macro and process it as you&#8217;d like in your front-end.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For more information on macros, including how to create your very own, visit to <a href="https://developer.enonic.com/docs/xp/stable/cms/macros" target="_blank" rel="noopener">the macro reference docs</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="graphql_api"><a class="link" href="#graphql_api">GraphQL API</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>When fetching rich text via the API, the most commonly used output is "processed html". This is essentially unstyled, semantic HTML. It&#8217;s then up to you to style the content in your client.</p>
</div>
<div class="paragraph">
<p>Links, images and macros will potentially require additional client-side processing.</p>
</div>
<div class="paragraph">
<p>The following query returns the "Lynx" content, and the <code>description</code> field al processed HTML.</p>
</div>
<div class="listingblock">
<div class="title">Fetching rich text via GraphQL API</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">{
  guillotine {
    queryDsl(
      query: {
        term: {
          field: "displayName",
          value: {
            string: "Lynx"
          }
        }
      }
    ) {
      ... on com_example_myapp_Animal {
        data {
          description {
            processedHtml
          }
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">The query result may look something like this</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "data": {
    "guillotine": {
      "queryDsl": [
        {
          "data": {
            "description": {
              "processedHtml": "&lt;p&gt;Lynx are cats, just like &lt;a href=\"/admin/site/preview/my-first-project/draft/animals/lion\" data-link-ref=\"8cc82fd1-9063-4604-9f51-5f059d7a5d2e\"&gt;lions&lt;/a&gt;.&lt;/p&gt;\n\n&lt;figure class=\"captioned editor-align-justify square-grayscale\"&gt;&lt;img alt=\"lynx.jpg\" src=\"/admin/site/preview/my-first-project/draft/_/image/be6bb93a-7d99-4ed2-b424-4e435b89f392:6a1e144ef4ebab19e9071794ad753130d5bb5497/width-768/lynx.jpg\" style=\"width:100%\" data-image-ref=\"4dced964-cd1c-445d-bb9f-80387467e165\"&gt;\n\n&lt;/figure&gt;\n\n&lt;p&gt;&lt;editor-macro data-macro-name=\"embed\" data-macro-ref=\"a1490c65-3654-4b29-9b1a-eb3894b6f59f\"&gt;&amp;lt;iframe title=\"YouTube video player\" src=\"https://www.youtube.com/embed/gr5EwZo_CHQ?si=IlkTGRuGVV7BxEOs\" height=\"315\" width=\"560\"&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/editor-macro&gt;&lt;/p&gt;\n"
            }
          }
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By unescaping the HTML, you will find the following:</p>
</div>
<div class="listingblock">
<div class="title">Processed HTML output</div>
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;p&gt;
  Lynx are cats, just like &lt;a href="/admin/site/preview/my-first-project/draft/animals/lion" data-link-ref="8cc82fd1-9063-4604-9f51-5f059d7a5d2e"&gt;lions&lt;/a&gt;.
&lt;/p&gt;

&lt;figure class="captioned editor-align-justify square-grayscale"&gt;
  &lt;img alt="lynx.jpg" src="/admin/site/preview/my-first-project/draft/_/image/be6bb93a-7d99-4ed2-b424-4e435b89f392:6a1e144ef4ebab19e9071794ad753130d5bb5497/width-768/lynx.jpg" style="width:100%" data-image-ref="4dced964-cd1c-445d-bb9f-80387467e165"&gt;
&lt;/figure&gt;

&lt;p&gt;
  &lt;editor-macro data-macro-name="embed" data-macro-ref="a1490c65-3654-4b29-9b1a-eb3894b6f59f"&gt;
    &amp;lt;iframe title=\"YouTube video player\" src=\"https://www.youtube.com/embed/gr5EwZo_CHQ?si=IlkTGRuGVV7BxEOs\" height=\"315\" width=\"560\"&amp;gt;&amp;lt;/iframe&amp;gt;
  &lt;/editor-macro&gt;
&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the excepton of macro&#8217;s this is all valid HTML. Below, you&#8217;ll learn more about handling these elements.</p>
</div>
<div class="sect2">
<h3 id="links_2"><a class="link" href="#links_2">Links</a></h3>
<div class="paragraph">
<p>Looking specifically at the processed html link output above, the most interesting part is the <code>data-link-ref</code> attribute.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Wondering why the href points to a location within the admin? No worries. Guillotine automatically generates contextual links. When deploying the API to production, you may customize the base url as needed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This example is an internal link, you may want access more details about it, for instance to override the URL, optimize accessibility etc.</p>
</div>
<div class="paragraph">
<p>To acccess these details, you need to extend your query with the links field:</p>
</div>
<div class="listingblock">
<div class="title">Query for link details</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">{
  guillotine {
    queryDsl(
      query: {
        term: {
          field: "displayName",
          value: {
            string: "Lynx"
          }
        }
      }
    ) {
      ... on com_example_myapp_Animal {
        data {
          description {
            processedHtml
            links {
              ref
              uri
              content {
                displayName
                _path
                type
              }
            }
          }
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By executing this query, you will get some more data. Specifically:</p>
</div>
<div class="listingblock">
<div class="title">Link query result</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">...
"links": [
  {
    "ref": "5c351456-b22f-4162-aad6-6d921c686544",
    "uri": "content://89daa74e-1482-493d-9a22-8ec08acaf4f8",
    "content": {
      "displayName": "Lion",
      "_path": "/animals/lion",
      "type": "com.example.myproject:animal"
    }
  }
]
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, you now have access to the full name of the referenced item, as well as it&#8217;s type. Use the ref values from the HTML link element to match it with the specific link data - as you may have more than one link.</p>
</div>
</div>
<div class="sect2">
<h3 id="image_srcset"><a class="link" href="#image_srcset">Image srcset</a></h3>
<div class="paragraph">
<p>In the processed HTML, you can see the <code>&lt;img&gt;</code> element with style attributes. Additionally, by looking more closely at the <code>src</code> value, you will find that the style settings are applied in the image service URL.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>..../_/image/&lt;id&gt;:&lt;version&gt;/width-768/lynx.jpg</pre>
</div>
</div>
<div class="paragraph">
<p>But wait, there&#8217;s more!</p>
</div>
<div class="paragraph">
<p>If you want to optimize how fast images load on various devices, Guillotine can also return the image in multiple different sizes (using <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/srcset" target="_blank" rel="noopener">the <code>srcset</code> attribute (MDN)</a>). This is achieved by adding an argument to the <code>description</code> field:</p>
</div>
<div class="listingblock">
<div class="title">Fetching rich text with <code>srcset</code></div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">{
  guillotine {
    queryDsl(
      query: {
        term: {
          field: "displayName",
          value: {
            string: "Lynx"
          }
        }
      }
    ) {
      ... on {project-name-query}_{content-type-2-Capitalized} {
        data {
          description(processHtml: {imageWidths: [200, 500]}) {
            processedHtml
          }
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time, you should find the '&lt;img&gt;' element will include srcset with links to a 200w and 500w respectively.</p>
</div>
<div class="listingblock">
<div class="title">Img tag, now with srcset</div>
<div class="content">
<pre class="highlight"><code class="language-Html" data-lang="Html">&lt;img alt="lynx.jpg"
  src=".../width-768/lynx.jpg"
  style="width:100%"
  srcset=".../width-200/lynx jpg 200w,.../width-500/lynx.jpg 500w"
  data-image-ref="c771dac7-8158-4791-92fb-18ebd5ef2fd3" /&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
URLs about above were shortened for readability
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="image_details"><a class="link" href="#image_details">Image details</a></h3>
<div class="paragraph">
<p>If you prefer to handle all details related to images yourself, or optimize the markup further, you may access more details about the image - like you did for links.</p>
</div>
<div class="listingblock">
<div class="title">Get description with image style details</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">{
  guillotine {
    queryDsl(
      query: {
        term: {
          field: "displayName",
          value: {
            string: "Lynx"
          }
        }
      }
    ) {
      ... on com_example_myapp_Animal {
        data {
          description {
            images {
              style {
                name
                aspectRatio
                filter
              }
            }
          }
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can extract the properties that you specified in your <code>styles.xml</code> previously:</p>
</div>
<div class="listingblock">
<div class="title">Additional result of fetching image styles</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">...
"images": [
  {
    "style": {
      "name": "editor-style-grayscale",
      "aspectRatio": "1:1",
      "filter": "hsbcolorize(0x000000); grayscale(); border(6, 0x000000)"
    }
  }
]
...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="macros_2"><a class="link" href="#macros_2">Macros</a></h3>
<div class="paragraph">
<p>In the headless context, the client is responsible for rendering of your content. In the case of macros - this gets obvious.</p>
</div>
<div class="paragraph">
<p>In the processed HTML, each macro is represented by an <code>&lt;editor-macro&gt;</code> element containing a unique reference key. As for links and images, this reference can be used to access detailed data fields for the macro.</p>
</div>
<div class="listingblock">
<div class="title">Query that fetches all macro data</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">{
  guillotine {
    queryDsl(
      query: {
        term: {
          field: "displayName",
          value: {
            string: "Lynx"
          }
        }
      }
    ) {
      ... on com_example_myapp_Animal {
        data {
          description {
            processedHtml
            macrosAsJson
          }
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">MacrosAsJson response (extract)</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">...
"macrosAsJson": [
  {
    "ref": "1f8703bc-ee13-4871-89b3-937a7299abc4",
    "name": "embed",
    "descriptor": "system:embed",
    "config": {
      "embed": {
        "body": "&amp;lt;iframe title=\"YouTube video player\" src=\"https://www.youtube.com/embed/gr5EwZo_CHQ?si=IlkTGRuGVV7BxEOs\" height=\"315\" width=\"560\"&amp;gt;&amp;lt;/iframe&amp;gt;"
      }
    }
  }
]
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>To access specific macros and fields, like for content type may use the full GraphQL schema. Try the following:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you used a different macro than the "Embed iframe" macro, the query must be updated to match the specific macro.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Query that fetches the fields for the Embed iframe macro</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">{
  guillotine {
    queryDsl(
      query: {
        term: {
          field: "displayName",
          value: {
            string: "Lynx"
          }
        }
      }
    ) {
      ... on com_example_myapp_Animal {
        data {
          description {
            processedHtml
            macros {
              ref
              name
              descriptor
              config {
                embed {
                  body
                }
              }
            }
          }
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time, you only get the explicit fields you were looking for</p>
</div>
<div class="listingblock">
<div class="title">Output from the field-based query</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">...
"macros": [
  {
    "ref": "9918c7b2-c87d-4d0b-8d6c-56ab85805f3a",
    "name": "embed",
    "descriptor": "system:embed",
    "config": {
      "embed": {
        "body": "&amp;lt;iframe title=\"YouTube video player\" src=\"https://www.youtube.com/embed/gr5EwZo_CHQ?si=IlkTGRuGVV7BxEOs\" height=\"315\" width=\"560\"&amp;gt;&amp;lt;/iframe&amp;gt;"
      }
    }
  }
]
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>By accessing the macro config, you are able to down drill into every single field, accessing all the details you actually you need.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-07-09 11:17:56 UTC
</div>
</div>
</body>
</html>